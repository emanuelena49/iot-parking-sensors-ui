(this["webpackJsonpiot-parking-sensors-ui"]=this["webpackJsonpiot-parking-sensors-ui"]||[]).push([[0],{111:function(e,t){},112:function(e,t){},118:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var i=n(4),s=n.n(i),a=n(51),r=n.n(a),c=(n(56),n(5)),o=n(6),d=n(8),l=n(7),u=(n(57),n(18)),h=(n(58),n(0)),m=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={width:0,height:0},i.updateWindowDimensions=i.updateWindowDimensions.bind(Object(u.a)(i)),i.frameRatio=e.frameWidth/e.frameHeight,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){var e=document.getElementById("video-player").clientWidth,t=document.getElementById("video-player").clientHeight;this.setState({width:e,height:t})}},{key:"render",value:function(){var e;return e=this.state.width/this.state.height<=this.frameRatio?"frame-container-1":"frame-container-2",Object(h.jsx)("div",{className:"streaming-video-player",id:"video-player",children:Object(h.jsx)("div",{className:"frame-container "+e,children:Object(h.jsx)("img",{src:this.props.source,alt:"No video available!"})})})}}]),n}(i.Component);m.defaultProps={frameWidth:640,frameHeight:480,source:"https://upload.wikimedia.org/wikipedia/commons/5/5c/640x480-afframont_ujamondrone_leitosa.JPG"};var p=m;var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"number"!==typeof e&&(e=parseFloat(e));var n=Math.pow(10,t);return Math.round(e*n)/n},j=function(e){Object(d.a)(i,e);var t=Object(l.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).state={value:"-.--m"},n}return Object(o.a)(i,[{key:"updateValue",value:function(e){var t=e=b(e/100,2);e.toString();for(var n=t.length;n<4;n++)t+="0";t+="m",this.setState({value:t})}},{key:"componentDidMount",value:function(){this.mqtt=n(60),this.client=this.mqtt.connect(this.props.brokerAddress);var e=this,t=this.props.topicName;this.client.on("connect",(function(){e.client.subscribe(t,(function(e){e?console.error("cannot subscribe to "+t,e):console.log("ok, subscribed to "+t)}))})),this.client.on("message",(function(n,i){n===t&&e.updateValue(parseInt(i))}))}},{key:"componentWillUnmount",value:function(){this.client.unsubscribe(this.props.topicName)}},{key:"render",value:function(){return Object(h.jsx)("span",{children:this.state.value+""})}}]),i}(i.Component),f=(n(118),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"distance-label "+this.props.className,children:[Object(h.jsx)("div",{className:"distance-label-name",children:this.props.name}),Object(h.jsx)("div",{className:"distance-label-value",children:this.props.children})]})}}]),n}(i.Component)),v=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"distance-numbers-bar",children:Object(h.jsxs)("div",{className:"distance-labels-container",children:[Object(h.jsx)(f,{name:"left",className:"distance-label-left",children:Object(h.jsx)(j,{topicName:this.props.topicNames.left,brokerAddress:this.props.brokerAddress})}),Object(h.jsx)(f,{name:"center",className:"distance-label-center",children:Object(h.jsx)(j,{topicName:this.props.topicNames.center,brokerAddress:this.props.brokerAddress})}),Object(h.jsx)(f,{name:"right",className:"distance-label-right",children:Object(h.jsx)(j,{topicName:this.props.topicNames.right,brokerAddress:this.props.brokerAddress})})]})})}}]),n}(i.Component);v.defaultProps={topicNames:{left:"/distances/left",center:"/distances/center",right:"/distances/right"},brokerAddress:"mqtt://192.168.1.133:8883"};var O=v,g={mqtt:{address:"mqtt://192.168.1.133:8883",topics:{left:"/distances/left",center:"/distances/center",right:"/distances/right"}},video:{address:"https://images2-corrieredelveneto.corriereobjects.it/methode_image/2021/03/23/Treviso%20Belluno/Foto%20Trattate/accoltellamento%20mogliano-kHv-U460802138672084hjB-640x480@CorriereVeneto-Web-Veneto.jpg?v=202103240900",width:640,height:480}},k=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{className:"video-container",children:Object(h.jsx)(p,{source:g.video.address,frameWidth:g.video.width,frameHeight:g.video.height})}),Object(h.jsx)("div",{className:"distance-container",children:Object(h.jsx)(O,{brokerAddress:g.mqtt.address,topicNames:g.mqtt.topics})})]})}}]),n}(i.Component),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root")),N()},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},65:function(e,t){},67:function(e,t){},83:function(e,t){},85:function(e,t){}},[[119,1,2]]]);
//# sourceMappingURL=main.67e5aaa5.chunk.js.map